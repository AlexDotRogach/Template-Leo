
(function(){const sliderWrap=document.querySelector(".slider__wrapper"),sliderElements=document.querySelectorAll(".slider__wrapper .slider__content"),butNext=document.querySelector(".slider__next"),butBack=document.querySelector(".slider__back"),width=window.getComputedStyle(document.querySelector(".footer__slider")).width,slidersSize=`${+width.slice(0, -2) * sliderElements.length}px`;sliderWrap.style.width=slidersSize;sliderElements.forEach((item)=>{item.style.width=width;});butBack.addEventListener("click",()=>{movieSlider("right");});butNext.addEventListener("click",()=>{movieSlider("left");});let d=0;function movieSlider(direction){turnButtons("none");let matrix=window.getComputedStyle(sliderWrap).getPropertyValue("transform");let translateX=+matrix.match(/\d\d+/);if(direction=="right"){if(!!translateX){let movingBack=Math.round(translateX-width.slice(0,-2));sliderWrap.style.transform=`translateX(-${movingBack}px)`;}else{let lastSlide=+slidersSize.slice(0,-2)-+width.slice(0,-2);sliderWrap.style.transform=`translateX(-${lastSlide}px)`;}}
if(direction=="left"){if(!!translateX){let slidElLen=sliderElements.length-1;if(translateX>=+width.slice(0,-2)*slidElLen){sliderWrap.style.transform="translateX(0px)";turnButtons("auto");return;}
let movingNext=Math.round(translateX+ +width.slice(0,-2));sliderWrap.style.transform=`translateX(-${movingNext}px)`;}else{sliderWrap.style.transform=`translateX(-${width})`;}}
setTimeout(()=>{turnButtons("auto");},1000);}
function turnButtons(state){let buttons=[butNext,butBack].forEach((item)=>{item.style.pointerEvents=`${state}`;});}})();

(function(){const next=document.querySelector(".next"),back=document.querySelector(".back"),intr=document.querySelectorAll(".intorduc span");function nextTab(but){but.addEventListener("click",()=>{for(let i=0;i<intr.length;i++){if(!intr[i].nextElementSibling){intr[i].classList="";anim(intr[0]);intr[0].classList="span__active";}
if(intr[i].classList=="span__active"){anim(intr[i].nextElementSibling);intr[i].nextElementSibling.classList.add("span__active");intr[i].classList="";return;}}});}
function backTab(but){but.addEventListener("click",()=>{for(let i=0;i<intr.length;i++){if(intr[i].classList=="span__active"&&i==0){anim(intr[intr.length-1]);intr[intr.length-1].classList="span__active";intr[i].classList="";break;}
if(intr[i].classList=="span__active"){anim(intr[i].previousElementSibling);intr[i].previousElementSibling.classList="span__active";intr[i].classList="";break;}}});}
function anim(elem){let i=1;insideAnim();function insideAnim(){if(i>=10){elem.style.opacity=1;return;}else{elem.style.opacity=`0.${i}`;i+=0.4;requestAnimationFrame(insideAnim);}}}
nextTab(next);backTab(back);const items=document.querySelectorAll(".inform_items .inform_items__item"),inform=document.querySelectorAll(".main_section .inform_main"),screenWidth=window.screen.width;document.querySelector(".inform_items").addEventListener("click",(e)=>{if(e.target.classList=="inform_items"){items.forEach((e,ind)=>{e.classList.remove("inform_items__item_active");inform[ind].style.display="none";inform[0].style.display="block";setTimeout(function(){inform[0].style.transform="translateX(0)";},100);});}});if(screenWidth>1050){items.forEach((item,indIte)=>{item.addEventListener("click",()=>{items.forEach((e)=>{e.classList.remove("inform_items__item_active");});inform.forEach((item,indInfo)=>{if(indIte==indInfo){item.style.display="block";setTimeout(function(){item.style.transform="translateX(0)";},100);}else{item.style.transform="translateX(-2000px)";item.style.display="none";}});item.classList.toggle("inform_items__item_active");});});}else{items.forEach((item,indIte)=>{item.addEventListener("click",()=>{items.forEach((e)=>{e.classList.remove("inform_items__item_active");});inform.forEach((item,indInfo)=>{item.style.transform="translateX(-2000px)";item.style.display="none";if(indIte==indInfo){item.style.display="block";setTimeout(function(){item.style.transform="translateX(0)";},100);}});item.classList.toggle("inform_items__item_active");});});}})();

(function(){const element=document.querySelector("header");document.addEventListener("scroll",loadGoodPage);function loadGoodPage(e){if(e.target.scrollingElement.scrollTop>element.clientHeight){element.style.backgroundImage='url("img/back_header_good.png")';}}})();

(function(){const sendingBut=document.querySelector(".block-input__but"),data=document.querySelector(".block-input__input");sendingBut.addEventListener("click",()=>{if(data.value.match(/\w+@\w+\.\w+/)){data.style.border="0";message("Thank you!");sending(data.value);}else{data.style.border="2px solid rgba(139, 0, 0, 0.9)";}});function message(mes){const newElement=document.createElement("div");newElement.classList.add("message");newElement.textContent=mes;stateBlock(".under_main__block","none");document.querySelector(".under_main__block").append(newElement);setTimeout(function(){document.querySelector(".under_main__block").childNodes.forEach((item)=>{if(item.classList.contains("message")){item.remove();}});stateBlock(".under_main__block","flex");},1500);}
function stateBlock(selector,state){document.querySelector(selector).childNodes.forEach((item)=>{if(item.classList.contains("under_main__block-text")&&item.style.display=="none"){item.style.display="block";return;}
item.style.display=state;});}
function sending(inform){fetch("server.php",{method:"POST",body:inform,headers:{"Content-type":"application/json",},}).then((data)=>{console.log(data);}).catch(()=>{console.log("erorr");}).finally(()=>{data.value="";});}})();